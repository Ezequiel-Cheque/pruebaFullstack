(this.webpackJsonppersonajes=this.webpackJsonppersonajes||[]).push([[0],{56:function(e,t,c){},61:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c.n(s),a=c(10),r=c.n(a),o=c(17),l=(c(56),function(e){return function(e){var t=Object(s.useRef)(!0),c=Object(s.useState)({data:null,loading:!0,error:null}),n=Object(o.a)(c,2),a=n[0],r=n[1];return Object(s.useEffect)((function(){return function(){t.current=!1}}),[]),Object(s.useEffect)((function(){r({data:null,loading:!0,error:null}),fetch(e).then((function(e){return e.json()})).then((function(e){t.current&&r({loading:!1,error:null,data:e})})).catch((function(){r({data:null,loading:!1,error:"No se pudo cargar la info"})}))}),[e]),a}("https://rickandmortyapi.com/api/character/?name=".concat(e.name,"&status=").concat(e.status,"&gender=").concat(e.gender,"&species=").concat(e.species,"&type=").concat(e.type))}),i=c(2),j=function(e){var t=e.setstate;return Object(i.jsxs)("div",{className:"col-4 mt-2 mx-auto",children:[Object(i.jsx)("p",{className:"title",children:"Buscador"}),Object(i.jsx)("hr",{}),Object(i.jsxs)("form",{id:"form-buscar",onSubmit:function(e){e.preventDefault();var c=document.querySelector("#form-buscar"),s=new FormData(c),n={name:s.get("name"),status:s.get("status"),species:s.get("species"),type:s.get("type"),gender:s.get("gender")};t({datos:n})},children:[Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{className:"form-label",children:"Name"}),Object(i.jsx)("input",{type:"text",className:"form-control",name:"name"})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{className:"form-label",children:"Status"}),Object(i.jsxs)("select",{name:"status",className:"form-control",defaultValue:"",children:[Object(i.jsx)("option",{value:"",children:"....."}),Object(i.jsx)("option",{value:"alive",children:"Alive"}),Object(i.jsx)("option",{value:"dead",children:"Dead"}),Object(i.jsx)("option",{value:"unknow",children:"unknown"})]})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{className:"form-label",children:"Species"}),Object(i.jsx)("input",{type:"text",className:"form-control",name:"species"})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{className:"form-label",children:"Type"}),Object(i.jsx)("input",{type:"text",className:"form-control",name:"type"})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{className:"form-label",children:"Gender"}),Object(i.jsxs)("select",{name:"gender",className:"form-control",defaultValue:"",children:[Object(i.jsx)("option",{value:"",children:"....."}),Object(i.jsx)("option",{value:"female",children:"Female"}),Object(i.jsx)("option",{value:"male",children:"Male"}),Object(i.jsx)("option",{value:"genderless",children:"Genderless"}),Object(i.jsx)("option",{value:"unknown",children:"Unknown"})]})]}),Object(i.jsx)("button",{type:"submit",className:"btn btn-lg btn-block btn-outline-primary",children:"Buscar"})]})]})},d=function(){return Object(i.jsx)("div",{className:"Navbar",children:Object(i.jsx)("em",{children:"Buscador de personajes"})})},b=c(107),u=c(106),m=c(109),h=c(105),p=c(103),O=c(104),x=c(102),f=c(97),v=c(38),g=c.n(v),N=function(e){var t=e.personajes,c=Object(f.a)((function(e){return{button:{margin:e.spacing(1)}}})),s=n.a.useState(!1),a=Object(o.a)(s,2),r=a[0],l=a[1],j=c(),d=function(){l(!1)};return Object(i.jsxs)("div",{children:[Object(i.jsx)(b.a,{variant:"contained",color:"primary",size:"large",className:j.button,onClick:function(){l(!0)},children:"Enviar por correo"}),Object(i.jsxs)(m.a,{open:r,onClose:d,"aria-labelledby":"form-dialog-title",children:[Object(i.jsxs)(x.a,{id:"form-dialog-title",children:["Envia los ",t.length," personajes seleccionados a tu correo"]}),Object(i.jsxs)(p.a,{children:[Object(i.jsx)(O.a,{}),Object(i.jsxs)("form",{id:"form-datos",onSubmit:function(e){e.preventDefault(),console.log(t);var c=document.getElementById("form-datos"),s=new FormData(c),n=new FormData;n.append("datos",JSON.stringify(t)),n.append("correo",s.get("correo"));fetch("http://testal.mx/pruebas/ApiCorreo/envioCatalogo.php",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){e.status?(g.a.fire("Envio exitoso","La lista de personajes ha sido enviada a tu correo correctamente","success"),c.reset(),d()):g.a.fire({icon:"error",title:"Oops...",text:"Something went wrong!"}),console.log(e)}))},children:[Object(i.jsx)(u.a,{required:!0,margin:"dense",name:"correo",label:"Correo electr\xf3nico",type:"email",fullWidth:!0}),Object(i.jsx)("button",{type:"submit",className:"btn btn-success",children:"Enviar"})]})]}),Object(i.jsx)(h.a,{children:Object(i.jsx)(b.a,{onClick:d,color:"primary",children:"Cancelar"})})]})]})},y=function(e){var t=e.state,c=l(t.datos),n={personajes:[]},a=Object(s.useState)(n),r=Object(o.a)(a,2),j=r[0],d=r[1];Object(s.useEffect)((function(){d(n)}),[t]);var b=function(e){var t=e.nativeEvent.path[2],s=e.target,n=e.target.name;t.classList.add("selected"),s.classList.add("d-none"),document.querySelector("#deselect-".concat(n)).classList.remove("d-none");var a=c.data.results[n],r=j.personajes;r.includes(a)||(r.push(a),d({personajes:r}))},u=function(e){var t=e.nativeEvent.path[2],s=e.target,n=e.target.name;t.classList.remove("selected"),s.classList.add("d-none"),document.querySelector("#select-".concat(n)).classList.remove("d-none");var a=c.data.results[n],r=j.personajes,o=r.indexOf(a);r.splice(o,1),d({personajes:r})};return Object(i.jsxs)("div",{className:"col-7 mt-2 mx-auto",children:[Object(i.jsx)("p",{className:"title",children:"Resultados:"}),Object(i.jsxs)("div",{className:"d-flex",children:[Object(i.jsxs)("div",{className:"mx-3",style:{display:"flex",alignItems:"center",fontSize:"20px",fontWeight:"700"},children:["Seleccionados: ",j.personajes.length]}),Object(i.jsx)("div",{children:Object(i.jsx)(N,{personajes:j.personajes})})]}),Object(i.jsx)("hr",{}),Object(i.jsxs)("table",{className:"table",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{scope:"col",children:"select"}),Object(i.jsx)("th",{scope:"col",children:"image"}),Object(i.jsx)("th",{scope:"col",children:"Name"}),Object(i.jsx)("th",{scope:"col",children:"Status"}),Object(i.jsx)("th",{scope:"col",children:"Species"}),Object(i.jsx)("th",{scope:"col",children:"Type"}),Object(i.jsx)("th",{scope:"col",children:"Gender"})]})}),Object(i.jsx)("tbody",{children:c.loading?Object(i.jsx)("tr",{}):c.data.results?c.data.results.map((function(e,t){return Object(i.jsxs)("tr",{children:[Object(i.jsxs)("th",{scope:"row",children:[Object(i.jsx)("button",{className:"btn btn-primary",onClick:b,name:"".concat(t),id:"select-".concat(t),children:"Select"}),Object(i.jsx)("button",{className:"btn btn-danger d-none",onClick:u,name:"".concat(t),id:"deselect-".concat(t),children:"Deselect"})]}),Object(i.jsx)("th",{scope:"row",children:Object(i.jsx)("img",{className:"img-personaje",src:e.image,alt:e.name})}),Object(i.jsx)("th",{scope:"row",children:e.name}),Object(i.jsx)("th",{scope:"row",children:e.status}),Object(i.jsx)("th",{scope:"row",children:e.species}),Object(i.jsx)("th",{scope:"row",children:e.type}),Object(i.jsx)("th",{scope:"row",children:e.gender})]},t)})):Object(i.jsx)("div",{class:"alert alert-danger",role:"alert",children:"No hay Resultados de la busqueda"})})]})]})},S=function(){var e=Object(s.useState)({datos:{name:"",status:"",species:"",type:"",gender:""}}),t=Object(o.a)(e,2),c=t[0],n=t[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(d,{}),Object(i.jsx)("div",{className:"container-fluid",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)(j,{setstate:n}),Object(i.jsx)(y,{state:c})]})})]})};r.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(S,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.97a08c99.chunk.js.map